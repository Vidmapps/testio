{"ast":null,"code":"import { testioActions } from \"./testio-slice\";\nconst adminUser = {\n  username: \"oxylabs\",\n  password: \"partyanimal\"\n};\nexport const logIn = details => {\n  if (details.username === adminUser.username && details.password === adminUser.password) {\n    return async dispatch => {\n      const token = await getToken({\n        username: details.username,\n        password: details.password\n      });\n      dispatch(testioActions.confirmLogin(token));\n    };\n  } else {\n    alert(\"User details do not match\");\n  }\n};\n\nasync function getToken(_ref) {\n  let {\n    username,\n    password\n  } = _ref;\n  const response = await fetch(\"https://playground.oxylabs.io/api/user/login\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      username,\n      password\n    })\n  });\n  const data = await response.json();\n  return data.token;\n}","map":{"version":3,"names":["testioActions","adminUser","username","password","logIn","details","dispatch","token","getToken","confirmLogin","alert","response","fetch","method","headers","body","JSON","stringify","data","json"],"sources":["/Users/vidmantasburba/Documents/GitHub/testio/src/store/login-actions.js"],"sourcesContent":["import { testioActions } from \"./testio-slice\";\n\nconst adminUser = {\n  username: \"oxylabs\",\n  password: \"partyanimal\",\n};\n\nexport const logIn = (details) => {\n  if (\n    details.username === adminUser.username &&\n    details.password === adminUser.password\n  ) {\n    return async (dispatch) => {\n      const token = await getToken({\n        username: details.username,\n        password: details.password,\n      });\n      dispatch(testioActions.confirmLogin(token));\n    };\n  } else {\n    alert(\"User details do not match\");\n  }\n};\n\nasync function getToken({ username, password }) {\n  const response = await fetch(\"https://playground.oxylabs.io/api/user/login\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({\n      username,\n      password,\n    }),\n  });\n\n  const data = await response.json();\n\n  return data.token;\n}\n"],"mappings":"AAAA,SAASA,aAAT,QAA8B,gBAA9B;AAEA,MAAMC,SAAS,GAAG;EAChBC,QAAQ,EAAE,SADM;EAEhBC,QAAQ,EAAE;AAFM,CAAlB;AAKA,OAAO,MAAMC,KAAK,GAAIC,OAAD,IAAa;EAChC,IACEA,OAAO,CAACH,QAAR,KAAqBD,SAAS,CAACC,QAA/B,IACAG,OAAO,CAACF,QAAR,KAAqBF,SAAS,CAACE,QAFjC,EAGE;IACA,OAAO,MAAOG,QAAP,IAAoB;MACzB,MAAMC,KAAK,GAAG,MAAMC,QAAQ,CAAC;QAC3BN,QAAQ,EAAEG,OAAO,CAACH,QADS;QAE3BC,QAAQ,EAAEE,OAAO,CAACF;MAFS,CAAD,CAA5B;MAIAG,QAAQ,CAACN,aAAa,CAACS,YAAd,CAA2BF,KAA3B,CAAD,CAAR;IACD,CAND;EAOD,CAXD,MAWO;IACLG,KAAK,CAAC,2BAAD,CAAL;EACD;AACF,CAfM;;AAiBP,eAAeF,QAAf,OAAgD;EAAA,IAAxB;IAAEN,QAAF;IAAYC;EAAZ,CAAwB;EAC9C,MAAMQ,QAAQ,GAAG,MAAMC,KAAK,CAAC,8CAAD,EAAiD;IAC3EC,MAAM,EAAE,MADmE;IAE3EC,OAAO,EAAE;MAAE,gBAAgB;IAAlB,CAFkE;IAG3EC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;MACnBf,QADmB;MAEnBC;IAFmB,CAAf;EAHqE,CAAjD,CAA5B;EASA,MAAMe,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAT,EAAnB;EAEA,OAAOD,IAAI,CAACX,KAAZ;AACD"},"metadata":{},"sourceType":"module"}